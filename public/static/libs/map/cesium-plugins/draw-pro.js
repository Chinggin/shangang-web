!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("cesium/Cesium"),require("jquery")):"function"==typeof define&&define.amd?define(["cesium/Cesium","jquery"],e):"object"==typeof exports?exports.draw=e(require("cesium/Cesium"),require("jquery")):t.draw=e(t.Cesium,t.jQuery)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(e,r){e.exports=t},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PlotUtil=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0);(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t})(o),e.PlotUtil=function(){function t(){i(this,t),this.HALF_PI=Math.PI/2,this.ZERO_TOLERANCE=1e-4}return n(t,[{key:"getThirdPoint",value:function(t,e,r,i,n){var o=this.getAzimuth(t,e),a=n?o+r:o-r,s=i*Math.cos(a),l=i*Math.sin(a);return[e[0]+s,e[1]+l]}},{key:"getAzimuth",value:function(t,e){var r=void 0,i=Math.asin(Math.abs(e[1]-t[1])/this.MathDistance(t,e));return e[1]>=t[1]&&e[0]>=t[0]?r=i+Math.PI:e[1]>=t[1]&&e[0]<t[0]?r=2*Math.PI-i:e[1]<t[1]&&e[0]<t[0]?r=i:e[1]<t[1]&&e[0]>=t[0]&&(r=Math.PI-i),r}},{key:"MathDistance",value:function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}},{key:"isClockWise",value:function(t,e,r){return(r[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(r[0]-t[0])}},{key:"getBisectorNormals",value:function(t,e,r,i){var n=this.getNormal(e,r,i),o=null,a=null,s=null,l=null,u=null,c=Math.sqrt(n[0]*n[0]+n[1]*n[1]),h=n[0]/c,f=n[1]/c,d=this.MathDistance(e,r),p=this.MathDistance(r,i);return c>this.ZERO_TOLERANCE?this.isClockWise(e,r,i)?(s=t*d,l=r[0]-s*f,u=r[1]+s*h,o=[l,u],s=t*p,l=r[0]+s*f,u=r[1]-s*h,a=[l,u]):(s=t*d,l=r[0]+s*f,u=r[1]-s*h,o=[l,u],s=t*p,l=r[0]-s*f,u=r[1]+s*h,a=[l,u]):(l=r[0]+t*(e[0]-r[0]),u=r[1]+t*(e[1]-r[1]),o=[l,u],l=r[0]+t*(i[0]-r[0]),u=r[1]+t*(i[1]-r[1]),a=[l,u]),[o,a]}},{key:"getCubicValue",value:function(t,e,r,i,n){t=Math.max(Math.min(t,1),0);var o=1-t,a=t*t,s=a*t,l=o*o,u=l*o;return[u*e[0]+3*l*t*r[0]+3*o*a*i[0]+s*n[0],u*e[1]+3*l*t*r[1]+3*o*a*i[1]+s*n[1]]}},{key:"getNormal",value:function(t,e,r){var i=t[0]-e[0],n=t[1]-e[1],o=Math.sqrt(i*i+n*n);i/=o,n/=o;var a=r[0]-e[0],s=r[1]-e[1],l=Math.sqrt(a*a+s*s);return a/=l,s/=l,[i+a,n+s]}},{key:"getArcPoints",value:function(t,e,r,i){var n=null,o=null,a=[],s=i-r;s=s<0?s+2*Math.PI:s;for(var l=0;l<=100;l++){var u=r+s*l/100;n=t[0]+e*Math.cos(u),o=t[1]+e*Math.sin(u),a.push([n,o])}return a}},{key:"getBaseLength",value:function(t){return Math.pow(this.wholeDistance(t),.99)}},{key:"wholeDistance",value:function(t){var e=0,r=this;return t&&Array.isArray(t)&&t.length>0&&t.forEach(function(i,n){n<t.length-1&&(e+=r.MathDistance(i,t[n+1]))}),e}},{key:"getArrowHeadPoints",value:function(t){if(!t)return[];var e=t.points,r=t.tailLeft,i=t.tailRight,n=t.headTailFactor,o=t.neckWidthFactor,a=t.neckHeightFactor,s=t.headWidthFactor,l=t.headHeightFactor,u=this.getBaseLength(e),c=u*l,h=e[e.length-1];u=this.MathDistance(h,e[e.length-2]);var f=this.MathDistance(r,i);c>f*n&&(c=f*n);var d=c*s,p=c*o;c=c>u?u:c;var g=c*a,P=this.getThirdPoint(e[e.length-2],h,0,c,!0),v=this.getThirdPoint(e[e.length-2],h,0,g,!0),w=this.getThirdPoint(h,P,this.HALF_PI,d,!1),m=this.getThirdPoint(h,P,this.HALF_PI,d,!0);return[this.getThirdPoint(h,v,this.HALF_PI,p,!1),w,h,m,this.getThirdPoint(h,v,this.HALF_PI,p,!0)]}},{key:"getTailPoints",value:function(t){if(t){var e=t.points,r=t.tailWidthFactor,i=t.swallowTailFactor,n=this.getBaseLength(e),o=n*r,a=this.getThirdPoint(e[1],e[0],this.HALF_PI,o,!1),s=this.getThirdPoint(e[1],e[0],this.HALF_PI,o,!0),l=o*i;return[a,this.getThirdPoint(e[1],e[0],0,l,!0),s]}}},{key:"getArrowBodyPoints",value:function(t,e,r,i){for(var n=this.wholeDistance(t),o=this.getBaseLength(t),a=o*i,s=this.MathDistance(e,r),l=(a-s)/2,u=0,c=[],h=[],f=1;f<t.length-1;f++){var d=this.getAngleOfThreePoints(t[f-1],t[f],t[f+1])/2;u+=this.MathDistance(t[f-1],t[f]);var p=(a/2-u/n*l)/Math.sin(d),g=this.getThirdPoint(t[f-1],t[f],Math.PI-d,p,!0),P=this.getThirdPoint(t[f-1],t[f],d,p,!1);c.push(g),h.push(P)}return c.concat(h)}},{key:"getAngleOfThreePoints",value:function(t,e,r){var i=this.getAzimuth(e,t)-this.getAzimuth(e,r);return i<0?i+2*Math.PI:i}},{key:"getQBSplinePoints",value:function(t){if(t.length<=2)return t;var e=[],r=t.length-2-1;e.push(t[0]);for(var i=0;i<=r;i++)for(var n=0;n<=1;n+=.05){for(var o=0,a=0,s=0;s<=2;s++){var l=this.getQuadricBSplineFactor(s,n);o+=l*t[i+s][0],a+=l*t[i+s][1]}e.push([o,a])}return e.push(t[t.length-1]),e}},{key:"getQuadricBSplineFactor",value:function(t,e){var r=0;return 0===t?r=Math.pow(e-1,2)/2:1===t?r=(-2*Math.pow(e,2)+2*e+1)/2:2===t&&(r=Math.pow(e,2)/2),r}},{key:"Mid",value:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}},{key:"getCircleCenterOfThreePoints",value:function(t,e,r){var i=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[i[0]-t[1]+e[1],i[1]+t[0]-e[0]],o=[(t[0]+r[0])/2,(t[1]+r[1])/2],a=[o[0]-t[1]+r[1],o[1]+t[0]-r[0]];return this.getIntersectPoint(i,n,o,a)}},{key:"getIntersectPoint",value:function(t,e,r,i){if(t[1]===e[1]){return[(i[0]-r[0])/(i[1]-r[1])*(t[1]-r[1])+r[0],t[1]]}if(r[1]===i[1]){return[(e[0]-t[0])/(e[1]-t[1])*(r[1]-t[1])+t[0],r[1]]}var n=(e[0]-t[0])/(e[1]-t[1]),o=(i[0]-r[0])/(i[1]-r[1]),a=(n*t[1]-t[0]-o*r[1]+r[0])/(n-o);return[n*a-n*t[1]+t[0],a]}},{key:"getBezierPoints",value:function(t){if(t.length<=2)return t;for(var e=[],r=t.length-1,i=0;i<=1;i+=.01){for(var n=0,o=0,a=0;a<=r;a++){var s=this.getBinomialFactor(r,a),l=Math.pow(i,a),u=Math.pow(1-i,r-a);n+=s*l*u*t[a][0],o+=s*l*u*t[a][1]}e.push([n,o])}return e.push(t[r]),e}},{key:"getFactorial",value:function(t){var e=1;switch(t){case t<=1:e=1;break;case 2===t:e=2;break;case 3===t:e=6;break;case 24===t:e=24;break;case 5===t:e=120;break;default:for(var r=1;r<=t;r++)e*=r}return e}},{key:"getBinomialFactor",value:function(t,e){return this.getFactorial(t)/(this.getFactorial(e)*this.getFactorial(t-e))}}]),t}()},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowParent=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.ArrowParent=function(){function t(){i(this,t),this.plotUtil=new a.PlotUtil}return n(t,[{key:"getArrowHeadPoints",value:function(t,e,r){var i=this.plotUtil.getBaseLength(t),n=i*this.headHeightFactor,o=t[t.length-1];i=this.plotUtil.MathDistance(o,t[t.length-2]);var a=this.plotUtil.MathDistance(e,r);n>a*this.headTailFactor&&(n=a*this.headTailFactor);var s=n*this.headWidthFactor,l=n*this.neckWidthFactor;n=n>i?i:n;var u=n*this.neckHeightFactor,c=this.plotUtil.getThirdPoint(t[t.length-2],o,0,n,!0),h=this.plotUtil.getThirdPoint(t[t.length-2],o,0,u,!0),f=this.plotUtil.getThirdPoint(o,c,Math.PI/2,s,!1),d=this.plotUtil.getThirdPoint(o,c,Math.PI/2,s,!0);return[this.plotUtil.getThirdPoint(o,h,Math.PI/2,l,!1),f,o,d,this.plotUtil.getThirdPoint(o,h,Math.PI/2,l,!0)]}},{key:"getArrowBodyPoints",value:function(t,e,r,i){for(var n=this.plotUtil.wholeDistance(t),o=this.plotUtil.getBaseLength(t),a=o*i,s=this.plotUtil.MathDistance(e,r),l=(a-s)/2,u=0,c=[],h=[],f=1;f<t.length-1;f++){var d=this.plotUtil.getAngleOfThreePoints(t[f-1],t[f],t[f+1])/2;u+=this.plotUtil.MathDistance(t[f-1],t[f]);var p=(a/2-u/n*l)/Math.sin(d),g=this.plotUtil.getThirdPoint(t[f-1],t[f],Math.PI-d,p,!0),P=this.plotUtil.getThirdPoint(t[f-1],t[f],d,p,!1);c.push(g),h.push(P)}return c.concat(h)}}]),t}()},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(1));r(4),r(6),r(8),r(10),r(12),r(14),r(16),r(18),r(20),r(22),r(24),r(25),r(26),r(27),r(29),window.wutu3d||console.log("请首先引入 cesium-mars 基础库，才能使用该插件！ http://cesium.marsgis.cn"),wutu3d.draw=wutu3d.draw||{},wutu3d.draw.PlotUtil=n.PlotUtil},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(5)),o=new n.AttackArrow,a=wutu3d.DrawEdit.PolygonEx.extend({_hasMidPoint:!0,hasClosure:!1,getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"attackArrow",_minPointNum:3,_maxPointNum:999,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("attackArrow",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AttackArrow=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=r(0),l=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(s),r(1)),u=r(2);e.AttackArrow=function(t){function e(t){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t||(t={}),r.headHeightFactor=t.headHeightFactor||.18,r.headWidthFactor=t.headWidthFactor||.3,r.neckHeightFactor=t.neckHeightFactor||.85,r.neckWidthFactor=t.neckWidthFactor||.15,r.headTailFactor=t.headTailFactor||.8,r.positions=null,r.plotUtil=new l.PlotUtil,r}return o(e,t),a(e,[{key:"startCompute",value:function(t){if(t){this.positions=t;var e=wutu3d.draw.util.cartesians2mercators(t),r=[e[0],e[1]],i=r[0],n=r[1];this.plotUtil.isClockWise(e[0],e[1],e[2])&&(i=e[1],n=e[0]);var o=this.plotUtil.Mid(i,n),a=[o].concat(e.slice(2)),s=this.getArrowHeadPoints(a,i,n),l=[s[0],s[4]],u=l[0],c=l[1],h=this.plotUtil.MathDistance(i,n)/this.plotUtil.getBaseLength(a),f=this.getArrowBodyPoints(a,u,c,h),d=f.length,p=[i].concat(f.slice(0,d/2));p.push(u);var g=[n].concat(f.slice(d/2,d));g.push(c),p=this.plotUtil.getQBSplinePoints(p),g=this.plotUtil.getQBSplinePoints(g);var P=p.concat(s,g.reverse());return wutu3d.draw.util.mercators2cartesians(P)}}}]),e}(u.ArrowParent)},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(7)),o=new n.AttackArrowPW,a=wutu3d.DrawEdit.PolygonEx.extend({_hasMidPoint:!0,hasClosure:!1,getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"attackArrowPW",_minPointNum:3,_maxPointNum:999,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("attackArrowPW",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AttackArrowPW=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=r(0),l=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(s),r(1)),u=r(2);e.AttackArrowPW=function(t){function e(t){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t||(t={}),r.headHeightFactor=t.headHeightFactor||.18,r.headWidthFactor=t.headWidthFactor||.3,r.neckHeightFactor=t.neckHeightFactor||.85,r.neckWidthFactor=t.neckWidthFactor||.15,r.tailWidthFactor=t.tailWidthFactor||.1,r.positions=null,r.plotUtil=new l.PlotUtil,r}return o(e,t),a(e,[{key:"startCompute",value:function(t){if(t){this.positions=t;var e=wutu3d.draw.util.cartesians2mercators(t),r=this.getTailPoints(e),i=this.getArrowHeadPoints(e,r[0],r[1]),n=i[0],o=i[4],a=this.getArrowBodyPoints(e,n,o,this.tailWidthFactor),s=a.length,l=[r[0]].concat(a.slice(0,s/2));l.push(n);var u=[r[1]].concat(a.slice(s/2,s));u.push(o),l=this.plotUtil.getQBSplinePoints(l),u=this.plotUtil.getQBSplinePoints(u);var c=l.concat(i,u.reverse());return wutu3d.draw.util.mercators2cartesians(c)}}},{key:"getTailPoints",value:function(t){var e=this.plotUtil.getBaseLength(t),r=e*this.tailWidthFactor;return[this.plotUtil.getThirdPoint(t[1],t[0],Math.PI/2,r,!1),this.plotUtil.getThirdPoint(t[1],t[0],Math.PI/2,r,!0)]}}]),e}(u.ArrowParent)},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(9)),o=new n.AttackArrowYW,a=wutu3d.DrawEdit.PolygonEx.extend({_hasMidPoint:!0,hasClosure:!1,getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"attackArrowYW",_minPointNum:3,_maxPointNum:999,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("attackArrowYW",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AttackArrowYW=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=r(0),l=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(s),r(1)),u=r(2);e.AttackArrowYW=function(t){function e(t){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t||(t={}),r.headHeightFactor=t.headHeightFactor||.18,r.headWidthFactor=t.headWidthFactor||.3,r.neckHeightFactor=t.neckHeightFactor||.85,r.neckWidthFactor=t.neckWidthFactor||.15,r.tailWidthFactor=t.tailWidthFactor||.1,r.headTailFactor=t.headTailFactor||.8,r.swallowTailFactor=t.swallowTailFactor||1,r.positions=null,r.plotUtil=new l.PlotUtil,r}return o(e,t),a(e,[{key:"startCompute",value:function(t){if(t){this.positions=t;var e=wutu3d.draw.util.cartesians2mercators(t),r=[e[0],e[1]],i=r[0],n=r[1];this.plotUtil.isClockWise(e[0],e[1],e[2])&&(i=e[1],n=e[0]);var o=this.plotUtil.Mid(i,n),a=[o].concat(e.slice(2)),s=this.getArrowHeadPoints(a,i,n),l=[s[0],s[4]],u=l[0],c=l[1],h=this.plotUtil.MathDistance(i,n),f=this.plotUtil.getBaseLength(a),d=f*this.tailWidthFactor*this.swallowTailFactor,p=this.plotUtil.getThirdPoint(a[1],a[0],0,d,!0),g=h/f,P=this.getArrowBodyPoints(a,u,c,g),v=P.length,w=[i].concat(P.slice(0,v/2));w.push(u);var m=[n].concat(P.slice(v/2,v));m.push(c),w=this.plotUtil.getQBSplinePoints(w),m=this.plotUtil.getQBSplinePoints(m);var y=w.concat(s,m.reverse(),[p,w[0]]);return wutu3d.draw.util.mercators2cartesians(y)}}}]),e}(u.ArrowParent)},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(11)),o=new n.CloseCurve,a=wutu3d.DrawEdit.PolygonEx.extend({_hasMidPoint:!0,getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"closeVurve",_minPointNum:3,_maxPointNum:999,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("closeVurve",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.CloseCurve=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.CloseCurve=function(){function t(e){i(this,t),e||(e={}),this.positions=null,this.plotUtil=new a.PlotUtil}return n(t,[{key:"startCompute",value:function(t){var e=wutu3d.draw.util.cartesians2mercators(t);e.push(e[0],e[1]);for(var r=[],i=[],n=0;n<e.length-2;n++){var o=this.plotUtil.getBisectorNormals(.3,e[n],e[n+1],e[n+2]);r=r.concat(o)}var a=r.length;r=[r[a-1]].concat(r.slice(0,a-1));for(var s=0;s<e.length-2;s++){var l=e[s],u=e[s+1];i.push(l);for(var c=0;c<=100;c++){var h=this.plotUtil.getCubicValue(c/100,l,r[2*s],r[2*s+1],u);i.push(h)}i.push(u)}return wutu3d.draw.util.mercators2cartesians(i)}}]),t}()},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(13)),o=new n.DoubleArrow,a=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"doubleArrow",_minPointNum:3,_maxPointNum:5,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("doubleArrow",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DoubleArrow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.DoubleArrow=function(){function t(e){i(this,t),e||(e={}),this.headHeightFactor=e.headHeightFactor||.25,this.headWidthFactor=e.headWidthFactor||.3,this.neckHeightFactor=e.neckHeightFactor||.85,this.neckWidthFactor=e.neckWidthFactor||.15,this.positions=null,this.plotUtil=new a.PlotUtil}return n(t,[{key:"startCompute",value:function(t){if(t){this.positions=t;var e,r,i=wutu3d.draw.util.cartesians2mercators(t),n=[i[0],i[1],i[2]],o=n[0],a=n[1],s=n[2],l=this.positions.length;3===l?(e=this.getTempPoint4(o,a,s),r=this.plotUtil.Mid(o,a)):4===l?(e=i[3],r=this.plotUtil.Mid(o,a)):(e=i[3],r=i[4]);var u=void 0,c=void 0;this.plotUtil.isClockWise(o,a,s)?(u=this.getArrowPoints(o,r,e,!1),c=this.getArrowPoints(r,a,s,!0)):(u=this.getArrowPoints(a,r,s,!1),c=this.getArrowPoints(r,o,e,!0));var h=u.length,f=(h-5)/2,d=u.slice(0,f),p=u.slice(f,f+5),g=u.slice(f+5,h),P=c.slice(0,f),v=c.slice(f,f+5),w=c.slice(f+5,h);P=this.plotUtil.getBezierPoints(P);var m=this.plotUtil.getBezierPoints(w.concat(d.slice(1)));g=this.plotUtil.getBezierPoints(g);var y=P.concat(v,m,p,g);return wutu3d.draw.util.mercators2cartesians(y)}}},{key:"getTempPoint4",value:function(t,e,r){var i=this.plotUtil.Mid(t,e),n=this.plotUtil.MathDistance(i,r),o=this.plotUtil.getAngleOfThreePoints(t,i,r),a=void 0,s=void 0,l=void 0,u=void 0;return o<Math.PI/2?(s=n*Math.sin(o),l=n*Math.cos(o),u=this.plotUtil.getThirdPoint(t,i,Math.PI/2,s,!1),a=this.plotUtil.getThirdPoint(i,u,Math.PI/2,l,!0)):o>=Math.PI/2&&o<Math.PI?(s=n*Math.sin(Math.PI-o),l=n*Math.cos(Math.PI-o),u=this.plotUtil.getThirdPoint(t,i,Math.PI/2,s,!1),a=this.plotUtil.getThirdPoint(i,u,Math.PI/2,l,!1)):o>=Math.PI&&o<1.5*Math.PI?(s=n*Math.sin(o-Math.PI),l=n*Math.cos(o-Math.PI),u=this.plotUtil.getThirdPoint(t,i,Math.PI/2,s,!0),a=this.plotUtil.getThirdPoint(i,u,Math.PI/2,l,!0)):(s=n*Math.sin(2*Math.PI-o),l=n*Math.cos(2*Math.PI-o),u=this.plotUtil.getThirdPoint(t,i,Math.PI/2,s,!0),a=this.plotUtil.getThirdPoint(i,u,Math.PI/2,l,!1)),a}},{key:"getArrowPoints",value:function(t,e,r,i){var n=this.plotUtil.Mid(t,e),o=this.plotUtil.MathDistance(n,r),a=this.plotUtil.getThirdPoint(r,n,0,.3*o,!0),s=this.plotUtil.getThirdPoint(r,n,0,.5*o,!0);a=this.plotUtil.getThirdPoint(n,a,Math.PI/2,o/5,i),s=this.plotUtil.getThirdPoint(n,s,Math.PI/2,o/4,i);var l=[n,a,s,r],u=this.getArrowHeadPoints(l);if(!(u&&Array.isArray(u)&&u.length>0))throw new Error("插值出错");var c=[u[0],u[4]],h=c[0],f=c[1],d=this.plotUtil.MathDistance(t,e)/this.plotUtil.getBaseLength(l)/2,p=this.getArrowBodyPoints(l,h,f,d);if(p){var g=p.length,P=p.slice(0,g/2),v=p.slice(g/2,g);return P.push(h),v.push(f),P=P.reverse(),P.push(e),v=v.reverse(),v.push(t),P.reverse().concat(u,v)}}},{key:"getArrowHeadPoints",value:function(t){var e=this.plotUtil.getBaseLength(t),r=e*this.headHeightFactor,i=t[t.length-1],n=r*this.headWidthFactor,o=r*this.neckWidthFactor,a=r*this.neckHeightFactor,s=this.plotUtil.getThirdPoint(t[t.length-2],i,0,r,!0),l=this.plotUtil.getThirdPoint(t[t.length-2],i,0,a,!0),u=this.plotUtil.getThirdPoint(i,s,Math.PI/2,n,!1),c=this.plotUtil.getThirdPoint(i,s,Math.PI/2,n,!0);return[this.plotUtil.getThirdPoint(i,l,Math.PI/2,o,!1),u,i,c,this.plotUtil.getThirdPoint(i,l,Math.PI/2,o,!0)]}},{key:"getArrowBodyPoints",value:function(t,e,r,i){for(var n=this.plotUtil.wholeDistance(t),o=this.plotUtil.getBaseLength(t),a=o*i,s=this.plotUtil.MathDistance(e,r),l=(a-s)/2,u=0,c=[],h=[],f=1;f<t.length-1;f++){var d=this.plotUtil.getAngleOfThreePoints(t[f-1],t[f],t[f+1])/2;u+=this.plotUtil.MathDistance(t[f-1],t[f]);var p=(a/2-u/n*l)/Math.sin(d),g=this.plotUtil.getThirdPoint(t[f-1],t[f],Math.PI-d,p,!0),P=this.plotUtil.getThirdPoint(t[f-1],t[f],d,p,!1);c.push(g),h.push(P)}return c.concat(h)}}]),t}()},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(15)),o=new n.FineArrow,a=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"fineArrow",_minPointNum:2,_maxPointNum:2,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("fineArrow",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FineArrow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.FineArrow=function(){function t(e){i(this,t),e||(e={}),this.headAngle=e.headAngle||Math.PI/8.5,this.neckAngle=e.neckAngle||Math.PI/13,this.tailWidthFactor=e.tailWidthFactor||.1,this.neckWidthFactor=e.neckWidthFactor||.2,this.headWidthFactor=e.headWidthFactor||.25,this.neckHeightFactor=e.neckHeightFactor||.85,this.positions=null,this.plotUtil=new a.PlotUtil}return n(t,[{key:"startCompute",value:function(t){if(t){this.positions=t;var e=wutu3d.draw.util.cartesians2mercators(t),r=[e[0],e[1]],i=r[0],n=r[1],o=this.plotUtil.getBaseLength(e),a=o*this.tailWidthFactor,s=o*this.neckWidthFactor,l=o*this.headWidthFactor,u=this.plotUtil.getThirdPoint(n,i,Math.PI/2,a,!0),c=this.plotUtil.getThirdPoint(n,i,Math.PI/2,a,!1),h=this.plotUtil.getThirdPoint(i,n,this.headAngle,l,!1),f=this.plotUtil.getThirdPoint(i,n,this.headAngle,l,!0),d=this.plotUtil.getThirdPoint(i,n,this.neckAngle,s,!1),p=this.plotUtil.getThirdPoint(i,n,this.neckAngle,s,!0),g=[u,d,h,n,f,p,c];return wutu3d.draw.util.mercators2cartesians(g)}}}]),t}()},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(17)),o=new n.FineArrowYW,a=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"fineArrowYW",_minPointNum:2,_maxPointNum:2,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("fineArrowYW",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FineArrowYW=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=r(0),l=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(s),r(1)),u=r(2);e.FineArrowYW=function(t){function e(t){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return t||(t={}),r.headHeightFactor=t.headHeightFactor||.18,r.headWidthFactor=t.headWidthFactor||.3,r.neckHeightFactor=t.neckHeightFactor||.85,r.neckWidthFactor=t.neckWidthFactor||.15,r.tailWidthFactor=t.tailWidthFactor||.1,r.swallowTailFactor=t.swallowTailFactor||1,r.positions=null,r.plotUtil=new l.PlotUtil,r}return o(e,t),a(e,[{key:"startCompute",value:function(t){if(t){this.positions=t;var e=wutu3d.draw.util.cartesians2mercators(t),r=this.getTailPoints(e),i=this.getArrowHeadPoints(e,r[0],r[2]),n=i[0],o=i[4],a=this.getArrowBodyPoints(e,n,o,this.tailWidthFactor),s=a.length,l=[r[0]].concat(a.slice(0,s/2));l.push(n);var u=[r[2]].concat(a.slice(s/2,s));u.push(o),l=this.plotUtil.getQBSplinePoints(l),u=this.plotUtil.getQBSplinePoints(u);var c=l.concat(i,u.reverse(),[r[1],l[0]]);return wutu3d.draw.util.mercators2cartesians(c)}}},{key:"getTailPoints",value:function(t){var e=this.plotUtil.getBaseLength(t),r=e*this.tailWidthFactor,i=this.plotUtil.getThirdPoint(t[1],t[0],Math.PI/2,r,!1),n=this.plotUtil.getThirdPoint(t[1],t[0],Math.PI/2,r,!0),o=r*this.swallowTailFactor;return[i,this.plotUtil.getThirdPoint(t[1],t[0],0,o,!0),n]}}]),e}(u.ArrowParent)},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(19)),o=new n.GatheringPlace,a=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"gatheringPlace",_minPointNum:3,_maxPointNum:3,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("gatheringPlace",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.GatheringPlace=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.GatheringPlace=function(){function t(e){i(this,t),e||(e={}),this.positions=null,this.plotUtil=new a.PlotUtil}return n(t,[{key:"startCompute",value:function(t){var e=wutu3d.draw.util.cartesians2mercators(t),r=this.plotUtil.Mid(e[0],e[2]);e.push(r,e[0],e[1]);for(var i=[],n=void 0,o=void 0,a=void 0,s=[],l=0;l<e.length-2;l++){n=e[l],o=e[l+1],a=e[l+2];var u=this.plotUtil.getBisectorNormals(.4,n,o,a);i=i.concat(u)}var c=i.length;i=[i[c-1]].concat(i.slice(0,c-1));for(var h=0;h<e.length-2;h++){n=e[h],o=e[h+1],s.push(n);for(var f=0;f<=100;f++){var d=this.plotUtil.getCubicValue(f/100,n,i[2*h],i[2*h+1],o);s.push(d)}s.push(o)}return wutu3d.draw.util.mercators2cartesians(s)}}]),t}()},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(21)),o=new n.StraightArrow,a=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"straightArrow",_minPointNum:2,_maxPointNum:2,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("straightArrow",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.StraightArrow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.StraightArrow=function(){function t(e){i(this,t),e||(e={}),this.tailWidthFactor=e.tailWidthFactor||.05,this.neckWidthFactor=e.neckWidthFactor||.1,this.headWidthFactor=e.headWidthFactor||.15,this.headAngle=Math.PI/4,this.neckAngle=.17741*Math.PI,this.positions=null,this.plotUtil=new a.PlotUtil}return n(t,[{key:"startCompute",value:function(t){var e=wutu3d.draw.util.cartesians2mercators(t),r=[e[0],e[1]],i=r[0],n=r[1],o=this.plotUtil.getBaseLength(e),a=o*this.tailWidthFactor,s=o*this.neckWidthFactor,l=o*this.headWidthFactor,u=this.plotUtil.getThirdPoint(n,i,Math.PI/2,a,!0),c=this.plotUtil.getThirdPoint(n,i,Math.PI/2,a,!1),h=this.plotUtil.getThirdPoint(i,n,this.headAngle,l,!1),f=this.plotUtil.getThirdPoint(i,n,this.headAngle,l,!0),d=this.plotUtil.getThirdPoint(i,n,this.neckAngle,s,!1),p=this.plotUtil.getThirdPoint(i,n,this.neckAngle,s,!0),g=[u,d,h,n,f,p,c];return wutu3d.draw.util.mercators2cartesians(g)}}]),t}()},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(23)),o=new n.Lune,a=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return o.startCompute(t)}}),s=wutu3d.Draw.PolygonEx.extend({type:"lune",_minPointNum:3,_maxPointNum:3,editClass:a,getShowPositions:function(t){return o.startCompute(t)}});wutu3d.draw.register("lune",s)},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Lune=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(0),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o),r(1));e.Lune=function(){function t(e){i(this,t),e||(e={}),this.positions=null,this.plotUtil=new a.PlotUtil}return n(t,[{key:"startCompute",value:function(t){var e=wutu3d.draw.util.cartesians2mercators(t),r=[e[0],e[1],e[2],void 0,void 0],i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],l=this.plotUtil.getCircleCenterOfThreePoints(i,n,o),u=this.plotUtil.MathDistance(i,l),c=this.plotUtil.getAzimuth(i,l),h=this.plotUtil.getAzimuth(n,l);return this.plotUtil.isClockWise(i,n,o)?(a=h,s=c):(a=c,s=h),e=this.plotUtil.getArcPoints(l,u,a,s),e.push(e[0]),wutu3d.draw.util.mercators2cartesians(e)}}]),t}()},function(t,e,r){"use strict";function i(t,e){var r=wutu3d.draw.util.cartesians2mercators(t),i=r[0],n=r[1],o=r[2],s=a.MathDistance(n,i),l=a.getAzimuth(n,i),u=a.getAzimuth(o,i),c=a.getArcPoints(i,s,l,u);return c.push(i,c[0]),wutu3d.draw.util.mercators2cartesians(c)}var n=r(0),o=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(n),r(1)),a=new o.PlotUtil,s=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t,e){return i(t,e)}}),l=wutu3d.Draw.PolygonEx.extend({type:"sector",_minPointNum:3,_maxPointNum:3,editClass:s,getShowPositions:function(t,e){return i(t,e)}});wutu3d.draw.register("sector",l)},function(t,e,r){"use strict";function i(t,e){for(var r=t[0],i=t[1],n=e.config.border||3,o=360/n,a=[],s=0;s<n;s++){var l=o*s,u=wutu3d.matrix.getRotateCenterPoint(r,i,l);a.push(u)}return a}var n=r(0),o=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(n),wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t,e){return i(t,e)}})),a=wutu3d.Draw.PolygonEx.extend({type:"regular",_minPointNum:2,_maxPointNum:2,editClass:o,getShowPositions:function(t,e){return i(t,e)}});wutu3d.draw.register("regular",a)},function(t,e,r){"use strict";function i(t){var e=t[0],r=t[1],i=t[2],n=o.Cartesian3.midpoint(e,r,a),s=wutu3d.util.getAngle(n,r),l=wutu3d.util.getAngle(n,i),u=s-l-90;return[e,r,wutu3d.matrix.getRotateCenterPoint(n,i,u)]}var n=r(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),a=new o.Cartesian3,s=wutu3d.DrawEdit.PolygonEx.extend({getShowPositions:function(t){return i(t)}}),l=wutu3d.Draw.PolygonEx.extend({type:"triangleDY",_minPointNum:3,_maxPointNum:3,editClass:s,getShowPositions:function(t){return i(t)}});wutu3d.draw.register("triangleDY",l)},function(t,e,r){"use strict";var i=r(0),n=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(i),r(28)),o=function(t){return t&&t.__esModule?t:{default:t}}(n),a=wutu3d.Draw.Billboard.extend({updateImg:function(t,e){var r=(0,o.default)(t.html);r.appendTo(t.parent||"body"),r=r.get(0),window.domtoimage?domtoimage.toPng(r).then(function(t){r.remove(),e.billboard.image=t}).catch(function(t){console.error("未知原因，导出失败!",t)}):window.html2canvas&&html2canvas(r,{backgroundColor:null,allowTaint:!0}).then(function(t){r.remove(),e.billboard.image=t.toDataURL("image/png")}).catch(function(t){console.error("未知原因，导出失败!",t)})}});wutu3d.draw.register("div-point",a)},function(t,r){t.exports=e},function(t,e,r){"use strict";var i=r(0),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),o=wutu3d.Draw.Billboard.extend({updateImg:function(t,e){var r=document.createElement("div");r.setAttribute("style","padding: 10px;text-align:center;");var i=document.createElement("i");i.setAttribute("class",n.defaultValue(t.iconClass,"fa fa-automobile")),i.setAttribute("style","font-size:"+n.defaultValue(t.iconSize,50)+"px;color:"+t.color+";"),r.appendChild(i),document.body.appendChild(r),window.domtoimage?domtoimage.toPng(r).then(function(t){document.body.removeChild(r),e.billboard.image=t}).catch(function(t){console.error("未知原因，导出失败!",t)}):window.html2canvas&&html2canvas(r,{backgroundColor:null,allowTaint:!0}).then(function(t){document.body.removeChild(r),e.billboard.image=t.toDataURL("image/png")}).catch(function(t){console.error("未知原因，导出失败!",t)})}});wutu3d.draw.register("font-point",o)}])});